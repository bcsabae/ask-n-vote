import{s as Q}from"./index-Csazy4ZU.js";import{s as w}from"./index-C4H-QJQX.js";import{s as _}from"./index-DUfUUQwL.js";import{G as B,o as i,e as a,H as d,r as m,f as p,a as t,d as S,b as u,w as x,u as h,t as y,F as A,h as C,I as D,c as g,q as U,J as I,z as f}from"./app-BDusPxOz.js";var V=function(l){var s=l.dt;return`
.p-card {
    background: `.concat(s("card.background"),`;
    color: `).concat(s("card.color"),`;
    box-shadow: `).concat(s("card.shadow"),`;
    border-radius: `).concat(s("card.border.radius"),`;
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: `).concat(s("card.caption.gap"),`;
}

.p-card-body {
    padding: `).concat(s("card.body.padding"),`;
    display: flex;
    flex-direction: column;
    gap: `).concat(s("card.body.gap"),`;
}

.p-card-title {
    font-size: `).concat(s("card.title.font.size"),`;
    font-weight: `).concat(s("card.title.font.weight"),`;
}

.p-card-subtitle {
    color: `).concat(s("card.subtitle.color"),`;
}
`)},j={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},L=B.extend({name:"card",theme:V,classes:j}),z={name:"BaseCard",extends:_,style:L,provide:function(){return{$pcCard:this,$parentInstance:this}}},$={name:"Card",extends:z,inheritAttrs:!1};function F(e,l,s,o,r,c){return i(),a("div",d({class:e.cx("root")},e.ptmi("root")),[e.$slots.header?(i(),a("div",d({key:0,class:e.cx("header")},e.ptm("header")),[m(e.$slots,"header")],16)):p("",!0),t("div",d({class:e.cx("body")},e.ptm("body")),[e.$slots.title||e.$slots.subtitle?(i(),a("div",d({key:0,class:e.cx("caption")},e.ptm("caption")),[e.$slots.title?(i(),a("div",d({key:0,class:e.cx("title")},e.ptm("title")),[m(e.$slots,"title")],16)):p("",!0),e.$slots.subtitle?(i(),a("div",d({key:1,class:e.cx("subtitle")},e.ptm("subtitle")),[m(e.$slots,"subtitle")],16)):p("",!0)],16)):p("",!0),t("div",d({class:e.cx("content")},e.ptm("content")),[m(e.$slots,"content")],16),e.$slots.footer?(i(),a("div",d({key:1,class:e.cx("footer")},e.ptm("footer")),[m(e.$slots,"footer")],16)):p("",!0)],16)],16)}$.render=F;const N={class:"flex justify-between"},G={class:"my-auto w-full pe-8"},O={class:""},T={__name:"SubmitQuestion",props:{active:Boolean},emits:["submit-question"],setup(e,{emit:l}){const s=l,o=S("");function r(){o.value.length!==0&&(s("submit-question",o.value),o.value="")}return(c,v)=>(i(),a("div",null,[u(h($),null,{content:x(()=>[t("div",N,[t("div",G,[u(h(Q),{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=n=>o.value=n),placeholder:e.active?"Ask a question":"This session does not accept questions at the moment",class:"w-full",disabled:!e.active},null,8,["modelValue","placeholder","disabled"])]),t("div",O,[u(h(w),{label:"Ask",onClick:r,severity:"secondary",disabled:!o.value.length},null,8,["disabled"])])])]),_:1})]))}},Y={class:"py-4"},E={class:"flex justify-between"},H={class:"flex items-center justify-center"},J={class:"my-auto"},M={key:0,class:"text-gray-500 italic mb-2 text-sm"},P={class:"font-black text-2xl"},R={class:"gap-4 mt-1 flex justify-end"},K={class:"flex flex-col text-center"},W={class:"pt-2 text-center"},X={__name:"QuestionItem",props:{question:Object,upvoted:Boolean,userQuestion:{type:Boolean,default:()=>!1}},emits:["upvote","delete"],setup(e,{emit:l}){const s=e,o=l;function r(){s.upvoted?o("downvote",s.question.id):o("upvote",s.question.id)}function c(){o("delete",s.question.id)}return(v,n)=>(i(),a("div",Y,[u(h($),null,{content:x(()=>[t("div",E,[t("div",H,[t("div",J,[e.userQuestion?e.question.is_answered?p("",!0):(i(),a("p",{key:1,onClick:c,class:"text-gray-500 italic mb-2 text-sm hover:underline hover:cursor-pointer"}," Revoke this question ")):(i(),a("p",M,"asked by "+y(e.question.guest.name),1)),t("h3",P,y(e.question.question_text+(e.question.is_answered?" (answered)":"")),1)])]),t("div",R,[t("div",K,[u(h(w),{icon:"pi pi-star",severity:"contrast",rounded:"",outlined:!e.upvoted,"aria-label":"Upvote",onClick:r,disabled:e.userQuestion||e.question.is_answered},null,8,["outlined","disabled"]),t("p",W,y(e.question.upvotes),1)])])])]),_:1})]))}},q={__name:"QuestionList",props:{questions:Array,upvoted:{type:Array,default:()=>[]},userQuestionList:{type:Boolean,default:()=>!1}},emits:["upvote","downvote","delete"],setup(e,{emit:l}){const s=e,o=l;function r(n){o("upvote",n)}function c(n){o("downvote",n)}function v(n){o("delete",n)}return(n,k)=>(i(),a("div",null,[u(D,{name:"fade",tag:"div",class:"flex flex-col","enter-active-class":"transition ease-out duration-300","leave-active-class":"transition ease-in duration-300","move-class":"transition ease-in-out duration-300"},{default:x(()=>[(i(!0),a(A,null,C(s.questions,b=>(i(),g(X,{key:b.id,question:b,upvoted:e.upvoted.includes(b.id),"user-question":e.userQuestionList,onUpvote:r,onDownvote:c,onDelete:v},null,8,["question","upvoted","user-question"]))),128))]),_:1})]))}},Z={class:"bg-gray-800 sm:py-12"},ee={class:"lg:w-3/5 md:w-4/5 px-4 sm:px-8 md:px-0 flex flex-col mx-auto"},te={class:"py-12"},se={class:"mb-12"},oe={class:"text-5xl font-extrabold"},ne={class:"py-6"},ie=t("div",{class:"mb-4"},[t("h2",{class:"text-2xl font-extrabold"},"Your questions")],-1),ae={key:1,class:"italic text-gray-500"},le={class:"py-6"},re=t("div",{class:"mb-4"},[t("h2",{class:"text-2xl font-extrabold"},"Other's questions")],-1),ue={class:"py-6"},de=t("div",{class:"mb-4"},[t("h2",{class:"text-2xl font-extrabold"},"Answered questions")],-1),fe={__name:"Index",props:{unansweredQuestions:Array,answeredQuestions:Array,userQuestions:Array,upvoted:Array,name:String,active:Boolean},setup(e){let l=null;function s(n){f.post(route("questions.store"),{question_text:n})}function o(n){f.post(route("questions.upvote",n),{},{preserveScroll:!0})}function r(n){f.put(route("questions.downvote",n),{},{preserveScroll:!0})}function c(n){f.delete(route("questions.destroy",n),{preserveScroll:!0})}function v(){f.reload({preserveState:!0,preserveScroll:!0})}return U(()=>{l=setInterval(function(){v()},3e3)}),I(()=>{clearInterval(l)}),(n,k)=>(i(),a("div",Z,[t("div",ee,[t("div",te,[t("div",se,[t("h1",oe,y(e.name)+", welcome!",1)]),u(T,{onSubmitQuestion:s,active:e.active},null,8,["active"])]),t("div",ne,[ie,e.userQuestions.length?(i(),g(q,{key:0,questions:e.userQuestions,"user-question-list":!0,onDelete:c},null,8,["questions"])):(i(),a("p",ae," Your questions will appear here. "))]),t("div",le,[re,u(q,{questions:e.unansweredQuestions,upvoted:e.upvoted,onUpvote:o,onDownvote:r},null,8,["questions","upvoted"])]),t("div",ue,[de,u(q,{questions:e.answeredQuestions,upvoted:e.upvoted,onUpvote:o,onDownvote:r},null,8,["questions","upvoted"])])])]))}};export{fe as default};
