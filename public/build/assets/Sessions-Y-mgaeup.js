import{_ as w}from"./AppLayout-DCHSzDE-.js";import{d as _,y as S,o as u,e as x,a as e,l as k,O as A,t as y,b as n,u as p,L as C,c as U,w as g,g as V,h as D,F as T,n as $,z as c}from"./app-BDusPxOz.js";import{s as j,a as B}from"./index-B_g12OVf.js";import{s as b}from"./index-C4H-QJQX.js";import"./ThemeToggle-P2DsK4pt.js";import"./index-DUfUUQwL.js";const z={class:"border-gray-200 rounded-xl px-2 py-4 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 my-2"},L={class:"flex flex-col md:flex-row justify-between items-center"},F={class:"md:px-4 flex flex-row items-center justify-between w-full md:w-fit"},I={class:"px-4"},N={class:"px-2 text-sm flex flex-row items-center dark:text-gray-400 dark:hover:text-gray-200 text-gray-600 hover:text-black"},E=e("span",{class:"pi pi-sliders-h px-2"},null,-1),q=["href"],M={class:"flex flex-row gap-x-6 items-center md:w-fit w-full ps-4 md:ps-0 mt-4 md:mt-0"},O={class:"font-bold"},P={class:"flex justify-end w-full"},Y={class:"text-sm"},G={__name:"SessionCode",props:["id","code","isActive","title"],emits:["update:isActive","deleteSession","update:title"],setup(l,{emit:m}){const i=l,r=m,o=_(i.isActive),a=_(i.title);S(()=>i.isActive,s=>{o.value=s});function v(){o.value=!o.value,r("update:isActive",{id:i.id,is_active:!i.isActive})}function t(){r("deleteSession",i.id)}function h(){i.title!==a.value&&(console.log("original: "+i.title+" modified: "+a.value),r("update:title",{id:i.id,title:a.value}))}return(s,d)=>(u(),x("div",z,[e("div",L,[e("div",F,[e("div",I,[k(e("input",{class:"text-xl font-bold bg-inherit dark:hover:border-gray-800 hover:border-gray-300 rounded dark:border-gray-800 border-gray-100 focus:ring-0 focus-visible:ring-0",type:"text","onUpdate:modelValue":d[0]||(d[0]=f=>a.value=f),onBlur:h},null,544),[[A,a.value]])]),e("div",N,[E,e("a",{href:s.route("sessions.dashboard",l.id)},"Show dashboard",8,q)])]),e("div",M,[e("div",O,y(l.code),1),e("div",P,[e("div",Y,[n(p(j),{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=f=>o.value=f),onLabel:"Active",offLabel:"Inactive",onChange:v},null,8,["modelValue"])]),n(p(b),{icon:"pi pi-times",severity:"secondary",text:"",rounded:"","aria-label":"Delete",onClick:t})])])])]))}},H={class:"flex flex-row justify-end mb-8"},J={class:"flex flex-row items-center text-gray-200"},ee={__name:"Sessions",props:["session_codes"],setup(l){const m=C();function i(t){c.patch(route("sessions.update",t.id),{is_active:t.is_active},{preserveScroll:!0})}function r(t){c.patch(route("sessions.update",t.id),{title:t.title},{preserveScroll:!0})}function o(){c.post(route("sessions.new"),{},{preserveScroll:!0})}function a(t){c.delete(route("sessions.destroy",t),{preserveScroll:!0})}const v=t=>{m.require({group:"templating",header:"Are you sure?",message:"You are going to delete this session. This cannot be undone.",icon:"pi pi-exclamation-circle",rejectProps:{label:"Cancel",outlined:!0,size:"small",severity:"secondary"},acceptProps:{label:"Delete",icon:"pi pi-times",size:"small",severity:"danger"},accept:()=>{a(t)}})};return(t,h)=>(u(),U(w,{title:"Sessions"},{header:g(()=>[V(" Sessions ")]),default:g(()=>[e("div",H,[n(p(b),{type:"button",label:"Create new session",icon:"pi pi-plus",severity:"secondary",onClick:o})]),(u(!0),x(T,null,D(l.session_codes,s=>(u(),x("p",{key:s.id},[n(G,{code:s.session_code,"is-active":!!s.is_active,id:s.id,title:s.title,"onUpdate:isActive":i,onDeleteSession:v,"onUpdate:title":r},null,8,["code","is-active","id","title"])]))),128)),n(p(B),{group:"templating"},{message:g(s=>[e("div",J,[e("i",{class:$([s.message.icon,"py-2 px-4"])},null,2),e("p",null,y(s.message.message),1)])]),_:1})]),_:1}))}};export{ee as default};
